{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}
Messages
{% endblock %}

{% block content %}
<h2>Messages</h2>
<hr>
<!-- Messages navigation -->
<ul class="nav nav-pills mb-3" id="nav-pills-tab" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="pills-unread-tab" data-bs-toggle="pill" data-bs-target="#pills-unread"
            type="button" role="tab" aria-controls="pills-unread" aria-selected="true">Unread <span class="badge text-bg-{% if unread_messages.count > 0 %}danger{% else %}light{% endif %}">{{ unread_messages.count }}</span></button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="pills-read-tab" data-bs-toggle="pill" data-bs-target="#pills-read"
            type="button" role="tab" aria-controls="pills-read" aria-selected="false">Read <span class="badge text-bg-light">{{ messages.count }}</span></button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="pills-sent-tab" data-bs-toggle="pill" data-bs-target="#pills-sent"
            type="button" role="tab" aria-controls="pills-sent" aria-selected="false">Sent <span class="badge text-bg-light">{{ sent_messages.count }}</span></button>
    </li>
</ul>
<!-- Messages navigation ends -->
<div class="tab-content" id="pills-tabContent">
    <!-- Unread messages -->
    <div class="tab-pane fade show active" id="pills-unread" role="tabpanel" aria-labelledby="pills-unread-tab" tabindex="0">
        {% for message in unread_messages %}
        {% include 'message-template.html' %}
        {% endfor %}
    </div>
    <!-- Unread messages ends -->
    <!-- Read messages -->
    <div class="tab-pane fade" id="pills-read" role="tabpanel" aria-labelledby="pills-read-tab" tabindex="0">
        {% for message in messages %}
        {% include 'message-template.html' %}
        {% endfor %}
    </div>
    <!-- Read messages ends -->
    <!-- Sent messages -->
    <div class="tab-pane fade" id="pills-sent" role="tabpanel" aria-labelledby="pills-sent-tab" tabindex="0">
        {% for message in sent_messages %}
        {% include 'message-template.html' %}
        {% endfor %}
    </div>
    <!-- Sent messages ends -->
</div>
{% endblock %}

{% block rightsidebar %}
{% include 'hashtags-side-template.html' %}
{% include 'users-side-template.html' %}
{% endblock %}